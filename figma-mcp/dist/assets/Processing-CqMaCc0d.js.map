{"version":3,"file":"Processing-CqMaCc0d.js","sources":["../../node_modules/lucide-react/dist/esm/icons/circle.js","../../node_modules/lucide-react/dist/esm/icons/database.js","../../node_modules/lucide-react/dist/esm/icons/file-code.js","../../node_modules/lucide-react/dist/esm/icons/git-branch.js","../../node_modules/lucide-react/dist/esm/icons/pen-tool.js","../../node_modules/lucide-react/dist/esm/icons/shield-check.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../src/components/processing/AgentNode.tsx","../../src/components/processing/Pipeline.tsx","../../src/components/error/NetworkError.tsx","../../src/routes/Processing.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]];\nconst Circle = createLucideIcon(\"circle\", __iconNode);\n\nexport { __iconNode, Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n];\nconst Database = createLucideIcon(\"database\", __iconNode);\n\nexport { __iconNode, Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M10 12.5 8 15l2 2.5\", key: \"1tg20x\" }],\n  [\"path\", { d: \"m14 12.5 2 2.5-2 2.5\", key: \"yinavb\" }]\n];\nconst FileCode = createLucideIcon(\"file-code\", __iconNode);\n\nexport { __iconNode, FileCode as default };\n//# sourceMappingURL=file-code.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"3\", y2: \"15\", key: \"17qcm7\" }],\n  [\"circle\", { cx: \"18\", cy: \"6\", r: \"3\", key: \"1h7g24\" }],\n  [\"circle\", { cx: \"6\", cy: \"18\", r: \"3\", key: \"fqmcym\" }],\n  [\"path\", { d: \"M18 9a9 9 0 0 1-9 9\", key: \"n2h4wq\" }]\n];\nconst GitBranch = createLucideIcon(\"git-branch\", __iconNode);\n\nexport { __iconNode, GitBranch as default };\n//# sourceMappingURL=git-branch.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z\",\n      key: \"nt11vn\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18\",\n      key: \"15qc1e\"\n    }\n  ],\n  [\"path\", { d: \"m2.3 2.3 7.286 7.286\", key: \"1wuzzi\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"2\", key: \"xmgehs\" }]\n];\nconst PenTool = createLucideIcon(\"pen-tool\", __iconNode);\n\nexport { __iconNode, PenTool as default };\n//# sourceMappingURL=pen-tool.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n];\nconst ShieldCheck = createLucideIcon(\"shield-check\", __iconNode);\n\nexport { __iconNode, ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z\",\n      key: \"1s2grr\"\n    }\n  ],\n  [\"path\", { d: \"M20 2v4\", key: \"1rf3ol\" }],\n  [\"path\", { d: \"M22 4h-4\", key: \"gwowj6\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"2\", key: \"6kqj1y\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","import React, { memo } from 'react';\nimport { motion } from 'framer-motion';\nimport { Check, Loader2, Circle } from 'lucide-react';\nimport { cn } from '@/utils/cn';\n\nexport type AgentStatus = 'idle' | 'running' | 'completed' | 'error';\n\ninterface AgentNodeProps {\n    label: string;\n    status: AgentStatus;\n    icon?: React.ReactNode;\n    delay?: number;\n}\n\n/**\n * AgentNode Component\n * Represents a single step in the analysis pipeline.\n * Visual States:\n * - Idle: Low opacity, Lavender\n * - Running: Pulsing Wisteria ring, full opacity\n * - Completed: Solid Tuscan checkmark\n * - Error: Bubblegum tint\n */\nexport const AgentNode = memo(({ label, status, icon, delay = 0 }: AgentNodeProps) => {\n    return (\n        <div className=\"flex flex-col items-center gap-3 relative group\">\n            {/* Connector Line Placeholder (handled by parent usually, or we can add here) */}\n\n            {/* Node Circle */}\n            <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ delay, duration: 0.5 }}\n                className={cn(\n                    \"relative flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-500\",\n                    // Status Styles\n                    status === 'idle' && \"border-white/5 bg-white/5 text-text-tertiary\",\n                    status === 'running' && \"border-accent-primary bg-accent-primary/10 text-accent-primary shadow-[0_0_30px_rgba(0,80,255,0.4)]\",\n                    status === 'completed' && \"border-accent-secondary bg-accent-secondary/10 text-accent-secondary shadow-[0_0_20px_rgba(0,214,255,0.3)]\",\n                    status === 'error' && \"border-accent-error bg-accent-error/10 text-accent-error\"\n                )}\n            >\n                {/* Animated Ring for Running State */}\n                {status === 'running' && (\n                    <motion.div\n                        className=\"absolute inset-[-4px] rounded-full border border-accent-primary/50\"\n                        initial={{ scale: 1, opacity: 1 }}\n                        animate={{ scale: 1.5, opacity: 0 }}\n                        transition={{ duration: 1.5, repeat: Infinity, ease: \"easeOut\" }}\n                    />\n                )}\n\n                {/* Icons based on status */}\n                <div className=\"relative z-10\">\n                    {status === 'running' ? (\n                        <div className=\"relative\">\n                            <Loader2 size={24} className=\"animate-spin absolute -inset-1 opacity-50\" />\n                            {icon}\n                        </div>\n                    ) : status === 'completed' ? (\n                        <div className=\"relative\">\n                            {icon}\n                            <div className=\"absolute -bottom-2 -right-2 bg-accent-secondary rounded-full p-0.5 text-bg-primary\">\n                                <Check size={10} strokeWidth={4} />\n                            </div>\n                        </div>\n                    ) : icon ? (\n                        icon\n                    ) : (\n                        <Circle size={12} fill=\"currentColor\" className=\"opacity-50\" />\n                    )}\n                </div>\n            </motion.div>\n\n            {/* Label */}\n            <motion.span\n                animate={{\n                    opacity: status === 'idle' ? 0.4 : 1,\n                    y: status === 'running' ? -2 : 0,\n                    color: status === 'error' ? '#FF3333' : status === 'completed' ? '#00D6FF' : status === 'running' ? '#0050FF' : 'rgba(255,255,255,0.6)'\n                }}\n                className={cn(\n                    \"text-xs md:text-sm font-medium tracking-wide text-center uppercase transition-colors duration-300\",\n                    status === 'running' && \"font-bold shadow-glow-text\"\n                )}\n            >\n                {label}\n            </motion.span>\n        </div>\n    );\n});\n\nAgentNode.displayName = 'AgentNode';\n","import React, { useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { AgentNode, AgentStatus } from './AgentNode';\nimport { AgentType } from '@/stores/jobStore';\nimport { Database, FileCode, GitBranch, PenTool, Share2, Sparkles } from 'lucide-react';\nimport { useReducedMotion } from '@/hooks/useReducedMotion';\nimport { cn } from '@/utils/cn';\n\ninterface PipelineProps {\n    currentAgent: AgentType | null;\n    jobStatus: 'idle' | 'queued' | 'processing' | 'completed' | 'failed';\n}\n\nconst AGENTS: { id: AgentType; label: string; icon: React.ReactNode; description: string }[] = [\n    { id: 'ingest', label: 'Ingest', icon: <Database />, description: 'Reading your data files' },\n    { id: 'normalize', label: 'Normalize', icon: <FileCode />, description: 'Standardizing data format' },\n    { id: 'phase', label: 'Phase Detection', icon: <GitBranch />, description: 'Identifying life phases' },\n    { id: 'trajectory', label: 'Trajectory', icon: <PenTool />, description: 'Mapping your direction' },\n    { id: 'narrative', label: 'Narrative', icon: <Sparkles />, description: 'Generating insights' },\n    { id: 'export', label: 'Export', icon: <Share2 />, description: 'Preparing results' },\n];\n\nexport const Pipeline = ({ currentAgent, jobStatus }: PipelineProps) => {\n    const prefersReducedMotion = useReducedMotion();\n    \n    // Determine the index of the active agent\n    const activeIndex = useMemo(() => {\n        if (jobStatus === 'completed') return AGENTS.length;\n        if (!currentAgent) return -1;\n        return AGENTS.findIndex(a => a.id === currentAgent);\n    }, [currentAgent, jobStatus]);\n\n    const progressPercent = Math.min((activeIndex / (AGENTS.length - 1)) * 100, 100);\n\n    return (\n        <div \n            className=\"w-full max-w-5xl mx-auto px-4 py-12\"\n            role=\"group\"\n            aria-label=\"Analysis pipeline stages\"\n        >\n            {/* Desktop Horizontal Layout */}\n            <div className=\"hidden md:flex items-center justify-between relative z-10 w-full\">\n                {/* Connecting Line (Background) */}\n                <div className=\"absolute top-6 left-0 w-full h-0.5 bg-white/10 -z-10\" aria-hidden=\"true\" />\n\n                {/* Connecting Line (Progress) */}\n                <motion.div\n                    initial={{ width: '0%' }}\n                    animate={{ width: `${progressPercent}%` }}\n                    transition={prefersReducedMotion ? { duration: 0 } : { duration: 0.5, ease: \"easeInOut\" }}\n                    className=\"absolute top-6 left-0 h-0.5 bg-gradient-to-r from-accent-primary to-accent-secondary -z-10 shadow-[0_0_15px_rgba(0,80,255,0.5)]\"\n                    aria-hidden=\"true\"\n                />\n\n                {AGENTS.map((agent, index) => {\n                    let status: AgentStatus = 'idle';\n                    if (index < activeIndex) status = 'completed';\n                    else if (index === activeIndex) status = jobStatus === 'failed' ? 'error' : 'running';\n\n                    return (\n                        <div\n                            key={agent.id}\n                            role=\"listitem\"\n                            aria-label={`${agent.label}: ${status === 'completed' ? 'Complete' : status === 'running' ? 'In progress' : status === 'error' ? 'Error' : 'Pending'}`}\n                            aria-current={status === 'running' ? 'step' : undefined}\n                        >\n                            <AgentNode\n                                label={agent.label}\n                                status={status}\n                                icon={agent.icon}\n                                delay={prefersReducedMotion ? 0 : index * 0.1}\n                            />\n                        </div>\n                    );\n                })}\n            </div>\n\n            {/* Mobile Vertical Layout */}\n            <div \n                className=\"md:hidden flex flex-col gap-8 relative pl-6 border-l border-white/10 ml-6\"\n                role=\"list\"\n                aria-label=\"Analysis stages\"\n            >\n                {/* Vertical Progress Bar */}\n                <motion.div\n                    initial={{ height: '0%' }}\n                    animate={{ height: `${progressPercent}%` }}\n                    transition={prefersReducedMotion ? { duration: 0 } : { duration: 0.5, ease: \"easeInOut\" }}\n                    className=\"absolute top-0 left-[-1px] w-0.5 bg-gradient-to-b from-accent-primary to-accent-secondary shadow-[0_0_15px_rgba(0,80,255,0.5)]\"\n                    style={{ width: '2px' }}\n                    aria-hidden=\"true\"\n                />\n\n                {AGENTS.map((agent, index) => {\n                    let status: AgentStatus = 'idle';\n                    if (index < activeIndex) status = 'completed';\n                    else if (index === activeIndex) status = jobStatus === 'failed' ? 'error' : 'running';\n\n                    return (\n                        <div \n                            key={agent.id} \n                            className=\"flex items-center gap-4 relative\"\n                            role=\"listitem\"\n                            aria-label={`${agent.label}: ${status === 'completed' ? 'Complete' : status === 'running' ? 'In progress' : status === 'error' ? 'Error' : 'Pending'}`}\n                            aria-current={status === 'running' ? 'step' : undefined}\n                        >\n                            <div className=\"absolute left-[-34px]\">\n                                <AgentNode\n                                    label=\"\"\n                                    status={status}\n                                    icon={agent.icon}\n                                    delay={prefersReducedMotion ? 0 : index * 0.1}\n                                />\n                            </div>\n                            <span className={cn(\n                                \"text-sm font-medium uppercase tracking-wider transition-colors duration-300 ml-4\",\n                                status === 'idle' ? \"text-text-secondary\" : \"text-text-primary\"\n                            )}>\n                                {agent.label}\n                            </span>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n","import { motion } from 'framer-motion';\nimport { WifiOff, RefreshCw, Database } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\n\ninterface NetworkErrorProps {\n    type: 'upload' | 'polling' | 'fetch' | 'timeout';\n    onRetry?: () => void;\n    onUseDemoData?: () => void;\n}\n\nconst ERROR_CONTENT = {\n    upload: {\n        icon: WifiOff,\n        title: \"Upload didn't complete\",\n        message: \"The connection was interrupted. Your files are safe locally.\"\n    },\n    polling: {\n        icon: WifiOff,\n        title: \"Lost connection to analysis\",\n        message: \"We'll try to reconnect automatically.\"\n    },\n    fetch: {\n        icon: WifiOff,\n        title: \"Couldn't load your results\",\n        message: \"The server might be busy. Let's try again.\"\n    },\n    timeout: {\n        icon: WifiOff,\n        title: \"This is taking longer than expected\",\n        message: \"The analysis might still be running. You can wait or try again.\"\n    }\n};\n\n/**\n * Network Error Component\n * \n * Specialized error display for network-related issues.\n * Offers retry and demo data fallback.\n */\nexport function NetworkError({ type, onRetry, onUseDemoData }: NetworkErrorProps) {\n    const content = ERROR_CONTENT[type];\n    const Icon = content.icon;\n\n    return (\n        <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ duration: 0.4 }}\n            className=\"w-full max-w-md mx-auto p-8 rounded-2xl bg-bg-secondary border border-white/5 text-center space-y-6\"\n        >\n            <div className=\"flex justify-center\">\n                <div className=\"p-4 rounded-full bg-white/5 border border-white/10\">\n                    <Icon size={28} className=\"text-text-secondary\" />\n                </div>\n            </div>\n\n            <div className=\"space-y-2\">\n                <h3 className=\"text-xl font-display font-medium text-text-primary\">\n                    {content.title}\n                </h3>\n                <p className=\"text-sm text-text-secondary\">\n                    {content.message}\n                </p>\n            </div>\n\n            <div className=\"flex flex-col gap-3\">\n                {onRetry && (\n                    <Button\n                        variant=\"primary\"\n                        onClick={onRetry}\n                        leftIcon={<RefreshCw size={16} />}\n                        fullWidth\n                    >\n                        Try again\n                    </Button>\n                )}\n                {onUseDemoData && (\n                    <Button\n                        variant=\"secondary\"\n                        onClick={onUseDemoData}\n                        leftIcon={<Database size={16} />}\n                        fullWidth\n                    >\n                        Use sample data instead\n                    </Button>\n                )}\n            </div>\n        </motion.div>\n    );\n}\n","import { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useJobPolling } from '@/hooks/useJobPolling';\nimport { useJobStore } from '@/stores/jobStore';\nimport { Pipeline } from '@/components/processing/Pipeline';\nimport { NetworkError } from '@/components/error/NetworkError';\nimport { useAnnounce } from '@/components/a11y/ScreenReaderAnnouncer';\nimport { useReducedMotion } from '@/hooks/useReducedMotion';\nimport { ShieldCheck } from 'lucide-react';\n\nconst MESSAGES = [\n    \"Organizing your activity data...\",\n    \"Identifying meaningful patterns...\",\n    \"Looking for long-term signals...\",\n    \"Generating your reflection...\",\n    \"Preparing your results...\"\n];\n\nexport function Processing() {\n    const navigate = useNavigate();\n    const { jobId, status, error, reset } = useJobStore();\n    const { jobStatus: job } = useJobPolling();\n    const announce = useAnnounce();\n    const prefersReducedMotion = useReducedMotion();\n\n    // Message Rotation Logic\n    const [messageIndex, setMessageIndex] = useState(0);\n    const [showError, setShowError] = useState(false);\n\n    useEffect(() => {\n        if (!jobId) {\n            navigate('/');\n            return;\n        }\n\n        const interval = setInterval(() => {\n            setMessageIndex(prev => (prev + 1) % MESSAGES.length);\n        }, 3000);\n\n        return () => clearInterval(interval);\n    }, [jobId, navigate]);\n\n    // Announce agent changes\n    useEffect(() => {\n        if (job?.currentAgent) {\n            announce(`Now running: ${job.currentAgent} agent`, 'polite');\n        }\n    }, [job?.currentAgent, announce]);\n\n    // Handle errors\n    useEffect(() => {\n        if (status === 'failed' || error) {\n            setShowError(true);\n            announce('Analysis encountered an error', 'assertive');\n        }\n    }, [status, error, announce]);\n\n    // Auto-redirect on completion\n    useEffect(() => {\n        if (job?.status === 'completed') {\n            announce('Analysis complete! Loading your results.', 'polite');\n            setTimeout(() => navigate('/results'), 1500);\n        }\n    }, [job?.status, navigate, announce]);\n\n    const handleRetry = () => {\n        setShowError(false);\n        reset();\n        navigate('/');\n    };\n\n    if (showError) {\n        return (\n            <div className=\"min-h-screen bg-bg-primary flex items-center justify-center p-6\">\n                <NetworkError \n                    type=\"polling\" \n                    onRetry={handleRetry}\n                    onUseDemoData={() => navigate('/results')}\n                />\n            </div>\n        );\n    }\n\n    return (\n        <div \n            className=\"min-h-screen bg-bg-primary flex flex-col items-center justify-center relative overflow-hidden\"\n            role=\"region\"\n            aria-label=\"Analysis in progress\"\n            aria-live=\"polite\"\n        >\n            {/* Background Ambient Mesh */}\n            <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(0,80,255,0.03),transparent_70%)] pointer-events-none\" aria-hidden=\"true\" />\n\n            <div className=\"relative z-10 w-full max-w-5xl px-6 flex flex-col items-center gap-12 text-center\">\n                {/* Header */}\n                <header className=\"space-y-4\">\n                    <motion.h1\n                        initial={prefersReducedMotion ? {} : { opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ duration: 0.8 }}\n                        className=\"text-4xl md:text-5xl font-display font-bold text-text-primary\"\n                    >\n                        Analyzing your patterns\n                    </motion.h1>\n                    <motion.p\n                        initial={prefersReducedMotion ? {} : { opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        transition={{ delay: 0.4, duration: 0.8 }}\n                        className=\"text-text-secondary text-lg\"\n                    >\n                        This usually takes under a minute.\n                    </motion.p>\n                </header>\n\n                {/* Agent Pipeline */}\n                <motion.div\n                    initial={prefersReducedMotion ? {} : { opacity: 0, scale: 0.95 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{ delay: 0.2, duration: 0.8 }}\n                    className=\"w-full\"\n                    role=\"progressbar\"\n                    aria-label=\"Analysis progress\"\n                    aria-valuenow={job?.progress || 0}\n                    aria-valuemin={0}\n                    aria-valuemax={100}\n                >\n                    <Pipeline\n                        currentAgent={job?.currentAgent || 'ingest'}\n                        jobStatus={job?.status || 'processing'}\n                    />\n                </motion.div>\n\n                {/* Micro Status Messages */}\n                <div \n                    className=\"h-8 flex items-center justify-center w-full max-w-md mx-auto relative cursor-default\"\n                    aria-live=\"polite\"\n                    aria-atomic=\"true\"\n                >\n                    <AnimatePresence mode=\"wait\">\n                        <motion.p\n                            key={messageIndex}\n                            initial={prefersReducedMotion ? {} : { opacity: 0, y: 10 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            exit={prefersReducedMotion ? {} : { opacity: 0, y: -10 }}\n                            transition={{ duration: 0.5 }}\n                            className=\"absolute text-accent-primary font-medium tracking-wide\"\n                        >\n                            {MESSAGES[messageIndex]}\n                        </motion.p>\n                    </AnimatePresence>\n                </div>\n            </div>\n\n            {/* Footer Trust */}\n            <motion.footer\n                initial={prefersReducedMotion ? {} : { opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 2, duration: 1 }}\n                className=\"absolute bottom-8 flex items-center gap-2 text-text-tertiary text-xs\"\n            >\n                <ShieldCheck size={14} className=\"text-accent-primary\" aria-hidden=\"true\" />\n                <span>Processing securely. No data leaves your session until verified.</span>\n            </motion.footer>\n        </div>\n    );\n}\n"],"names":["__iconNode","Circle","createLucideIcon","Database","FileCode","GitBranch","PenTool","ShieldCheck","Sparkles","AgentNode","memo","label","status","icon","delay","jsxs","motion","cn","jsx","Loader2","Check","AGENTS","Share2","Pipeline","currentAgent","jobStatus","prefersReducedMotion","useReducedMotion","activeIndex","useMemo","a","progressPercent","agent","index","ERROR_CONTENT","WifiOff","NetworkError","type","onRetry","onUseDemoData","content","Icon","Button","RefreshCw","MESSAGES","Processing","navigate","useNavigate","jobId","error","reset","useJobStore","job","useJobPolling","announce","useAnnounce","messageIndex","setMessageIndex","useState","showError","setShowError","useEffect","interval","prev","handleRetry","AnimatePresence"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6]}